!function(f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).iModal=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var p="function"==typeof require&&require;if(!f&&p)return p(i,!0);if(u)return u(i,!0);throw(p=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",p}p=n[i]={exports:{}},e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){module.exports={success:{color:"text-white",btn:"light"},primary:{color:"text-white",btn:"light"},info:{color:"text-white",btn:"light"},warning:{color:"text-white",btn:"light"},danger:{color:"text-white",btn:"light"},secondary:{color:"text-white",btn:"light"},dark:{color:"text-white",btn:"light"},light:{color:"text-dark",btn:"dark"}}},{}],2:[function(require,module,exports){module.exports=function(out){out=out||{};for(var i=1;i<arguments.length;i++)if(arguments[i])for(var key in arguments[i])arguments[i].hasOwnProperty(key)&&(out[key]=arguments[i][key]);return out}},{}],3:[function(require,module,exports){const{setGlobalsSettings,combinedSettings}=require("./settings"),bgColors=require("./bgColors");const getModalInstance=function(){var el_iModal=document.querySelector(".modal.iModal");return!!el_iModal&&bootstrap.Modal.getInstance(el_iModal)},isActive=function(){return!!getModalInstance()},dispose=function(){let el_iModal=document.querySelector(".modal.iModal"),iModalInstance=getModalInstance();iModalInstance&&(iModalInstance.dispose(),el_iModal&&el_iModal.parentNode.removeChild(el_iModal))},hide=function(){isActive()&&getModalInstance().hide()};module.exports=function(params){let settings=combinedSettings(params),modal=document.createElement("div");modal.id=settings.id,modal.tabIndex=-1,modal.classList.add("modal","iModal"),settings.fade&&modal.classList.add("fade");let modal_dialog=document.createElement("div");modal_dialog.classList.add("modal-dialog"),settings.size&&modal_dialog.classList.add(settings.size),settings.fullscreen&&modal_dialog.classList.add(settings.fullscreen),settings.dialogScrollable&&modal_dialog.classList.add("modal-dialog-scrollable"),settings.dialogCentered&&modal_dialog.classList.add("modal-dialog-centered"),modal.appendChild(modal_dialog);let modal_content=document.createElement("div");if(modal_content.classList.add("modal-content"),settings.bg&&(modal_content.classList.add(`bg-${settings.bg}`),modal_content.classList.add(bgColors[settings.bg].color)),modal_dialog.appendChild(modal_content),settings.header){let modal_header=document.createElement("div");modal_header.classList.add("modal-header"),settings.headerClass&&(modal_header.classList.add(`bg-${settings.headerClass}`),modal_header.classList.add(bgColors[settings.headerClass].color)),modal_header.innerHTML=`
      <h5 class="modal-title">${settings.title}</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    `,modal_content.appendChild(modal_header)}let modal_body=document.createElement("div");if(modal_body.classList.add("modal-body"),modal_body.innerHTML=settings.body,modal_content.appendChild(modal_body),settings.footer){let modal_footer=document.createElement("div");modal_footer.classList.add("modal-footer");let close_btn_class="btn btn-outline-secondary";settings.bg&&(close_btn_class=`btn btn-outline-${bgColors[settings.bg].btn}`),settings.footerClass&&(modal_footer.classList.add(`bg-${settings.footerClass}`),close_btn_class=`btn btn-outline-${bgColors[settings.footerClass].btn}`),modal_footer.innerHTML=`
      <button type="button" class="btn ${close_btn_class}" data-bs-dismiss="modal">${settings.closeText}</button>
    `,modal_content.appendChild(modal_footer)}let document_body=document.querySelector("body");document_body.appendChild(modal);let el_iModal=document.querySelector(".modal.iModal");el_iModal.addEventListener("show.bs.modal",function(event){settings.onShow()}),el_iModal.addEventListener("shown.bs.modal",function(event){settings.onShowed(),settings.autoHide&&setTimeout(hide,settings.autoHideTime)}),el_iModal.addEventListener("hide.bs.modal",function(event){settings.onHide()}),el_iModal.addEventListener("hidden.bs.modal",function(event){settings.onHidden(),dispose()}),el_iModal.addEventListener("hidePrevented.bs.modal",function(event){settings.onHidePrevented()}),iModalInstance=new bootstrap.Modal(el_iModal,{backdrop:settings.backdrop,keyboard:settings.keyboard}),iModalInstance.show(),settings.backdropColor&&document.querySelector(".modal-backdrop").classList.add(`bg-${settings.backdropColor}`)},module.exports.version="1.0.0-alpha.1",module.exports.isActive=isActive,module.exports.hide=hide,module.exports.remove=function(){isActive()&&(document.querySelector(".modal.iModal").classList.remove("fade"),hide(),dispose())},module.exports.setSettings=function(params){setGlobalsSettings(params)},module.exports.body=function(body){let el_iModal=document.querySelector(".modal.iModal");el_iModal&&(el_iModal.querySelector(".modal-body").innerHTML=body)}},{"./bgColors":1,"./settings":4}],4:[function(require,module,exports){const extend=require("./extend"),bgColors=require("./bgColors");let defaultSettings={id:"iModal",size:"",fullscreen:!1,title:"",closeText:"Close",body:`
    <div class="d-flex justify-content-center" style="height: 100%;">
      <div class="spinner-border text-primary my-auto" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  `,bg:"",headerClass:"",footerClass:"",header:!0,footer:!0,backdrop:!0,backdropColor:!1,keyboard:!0,dialogScrollable:!1,dialogCentered:!1,fade:!0,autoHide:!1,autoHideTime:1e3,onShow:function(){},onShowed:function(){},onHide:function(){},onHidden:function(){},onHidePrevented:function(){}},iModalSettings={};module.exports={setGlobalsSettings:params=>{iModalSettings=params},combinedSettings:params=>{return function(settings){return settings.id.length<1&&(settings.id=defaultSettings.id),["sm","lg","xl"].indexOf(settings.size)<0?settings.size=defaultSettings.size:settings.size="modal-"+settings.size,[!1,!0,"sm","md","lg","xl","xxl"].indexOf(settings.fullscreen)<0?settings.fullscreen=defaultSettings.fullscreen:!1!==settings.fullscreen&&(!0===settings.fullscreen?settings.fullscreen="modal-fullscreen":settings.fullscreen=`modal-fullscreen-${settings.fullscreen}-down`),settings.bg in bgColors||(settings.bg=defaultSettings.bg),settings.headerClass in bgColors||(settings.headerClass=defaultSettings.headerClass),settings.footerClass in bgColors||(settings.footerClass=defaultSettings.footerClass),[!0,!1,"static"].indexOf(settings.backdrop)<0&&(settings.backdrop=defaultSettings.backdrop),settings.backdropColor in bgColors||(settings.backdropColor=defaultSettings.backdropColor),[!0,!1].indexOf(settings.keyboard)<0&&(settings.keyboard=defaultSettings.keyboard),[!0,!1].indexOf(settings.dialogScrollable)<0&&(settings.dialogScrollable=defaultSettings.dialogScrollable),[!0,!1].indexOf(settings.dialogCentered)<0&&(settings.dialogCentered=defaultSettings.dialogCentered),[!0,!1].indexOf(settings.fade)<0&&(settings.fade=defaultSettings.fade),[!0,!1].indexOf(settings.autoHide)<0&&(settings.autoHide=defaultSettings.autoHide),settings.autoHideTime=parseInt(settings.autoHideTime)||defaultSettings.autoHideTime,settings}(extend({},defaultSettings,iModalSettings,params))}}},{"./bgColors":1,"./extend":2}]},{},[3])(3)});
